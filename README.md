# muduo_chat
基于muduo网络库的集群聊天系统

该网络项目基于muduo网络库实现，应用到的知识点主要有
1.json序列化反序列化
2.muduo网络库开发
3.nginx源码编译安装和环境部署
4.nginx的tcp负载均衡器配置
5.redis缓存服务器编程实践
6.基于发布-订阅的服务器中间件redis消息队列编程实践
7.mysql数据库编程
8.CMake构建编译环境
9.Github托管项目

项目需求
1.分为客户端和服务器即CS架构
2.客户端用户登录 注销操作（登录后数据库中用户状态为在线，执行注销操作后用户为不在线状态）
3.添加好友和添加群组
4.好友聊天
5.群主聊天
6.离线消息
7.nginx配置负载均衡
8.集群聊天系统支持跨服务器通信


自己踩到的坑
1.想增加一个“用户登录客户端后，客户端异常退出时，数据库对应的用户状态也应该由online状态变为offline状态”功能，刚开始想的是用一个signal函数来捕捉ctrl+c信号，然后直接执行操作数据库命令，后来想了想，这个是客户端，客户端不应该直接操作数据库，这样会造成危险，想了想客户端应该通过服务器来间接操作数据库来实现状态更新操作。于是写了一个sighandler函数来跟服务器通信，执行服务器中的loginout函数，实现了客户端异常退出时，用户在线状态的切换。

2.
